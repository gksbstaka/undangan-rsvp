<!DOCTYPE html>
<html lang="id">
<head>
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GKSBS Event â€” Digital Invitation</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,600;1,600&display=swap" rel="stylesheet">

    <script>
    tailwind.config = {
        theme: {
            extend: {
                fontFamily: {
                    // Default utama ke Inter (Sans Serif)
                    // Serif hanya disiapkan sebagai class opsional
                    sans: ['Inter', 'system-ui', '-apple-system', 'sans-serif'],
                    serif: ['Playfair Display', 'serif'],
                },
                fontSize: {
                    // Apple-style typography scale
                    'ap-hero': ['4.5rem', { lineHeight: '1.05', letterSpacing: '-0.025em', fontWeight: '700' }],
                    'ap-title': ['2.5rem', { lineHeight: '1.2', letterSpacing: '-0.02em', fontWeight: '600' }],
                    'ap-body': ['1.0625rem', { lineHeight: '1.5', letterSpacing: '-0.01em' }],
                    'ap-caption': ['0.75rem', { lineHeight: '1.4', letterSpacing: '0.05em', fontWeight: '600' }],
                }
            }
        }
    }
</script>

<style>
    /* Reset & Master Typography */
    body { 
        @apply font-sans antialiased bg-ap-bg text-ap-black; 
    }

    /* Override semua heading ke Sans Serif secara default */
    h1, h2, h3, h4, h5, h6 { 
        @apply font-sans tracking-tight; 
    }

    /* Utility untuk panggil Serif secara kondisional (Manual) */
    .font-conditional-serif { 
        @apply font-serif italic; 
    }

    /* Sub-header style */
    .ap-sub { 
        @apply text-ap-caption uppercase tracking-[0.3em] text-ap-grey block mb-4; 
    }
</style>
    <style>
        /* Global Smoothing */
        body {
            background-color: #ffffff;
            color: #1D1D1F;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Master UI Components */
        .ap-card {
            background: #f5f5f7;
            border: 1px solid rgba(210, 210, 215, 0.4);
            border-radius: 32px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.03);
        }

        .ap-btn-primary {
            background-color: #0071E3;
            color: #FFFFFF;
            border-radius: 9999px;
            padding: 12px 28px;
            font-weight: 500;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .ap-btn-primary:hover {
            background-color: #0077ED;
            transform: scale(1.02);
        }
        .ap-btn-primary:active {
            transform: scale(0.98);
        }

        /* Input Style: Minimalist Apple */
        .ap-input {
            width: 100%;
            background-color: #F5F5F7;
            border: 1px solid transparent;
            border-radius: 12px;
            padding: 14px 16px;
            transition: all 0.2s ease;
            outline: none;
        }
        .ap-input:focus {
            background-color: #FFFFFF;
            border-color: #0071E3;
            box-shadow: 0 0 0 4px rgba(0, 113, 227, 0.1);
        }

        /* Micro-animations */
        @keyframes reveal {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .reveal { animation: reveal 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; }
    </style>
</head>
<body class="bg-[#ffffff] font-sans text-[#4A4A4A]">

   <section class="min-h-screen flex flex-col items-center justify-center p-6 text-center reveal">
    <div class="mb-10">
    <img src="assets/img/logo.svg" class="w-28 md:w-36 mx-auto mb-6 hover:opacity-80 transition-opacity duration-500" alt="Logo GKSBS">
    <span class="ap-sub !mb-0">GKSBS Tanjungkarang</span>
    </div>
    
    <div class="mb-10">
        <h1 class="text-ap-title">
            Undangan <span class="font-conditional-serif font-medium">Rapat</span>
        </h1>
        <p class="mt-3 text-ap-body max-w-sm mx-auto font-light leading-relaxed">
            Melayani dengan Kasih dan Kesetiaan dalam satu persekutuan.
        </p>
    </div>

    <div class="w-full max-w-lg mx-auto flex flex-col items-center">
        
        <div class="w-full flex items-center justify-center gap-8 md:gap-14 border-y border-ap-grey/10 py-8">
            <div class="text-center">
                <span id="days" class="block text-4xl md:text-5xl font-light tracking-tighter text-ap-black">00</span>
                <span class="ap-sub !mb-0 !text-[8px]">Hari</span>
            </div>
            <div class="text-center border-l border-ap-grey/20 pl-8 md:pl-14">
                <span id="hours" class="block text-4xl md:text-5xl font-light tracking-tighter text-ap-black">00</span>
                <span class="ap-sub !mb-0 !text-[8px]">Jam</span>
            </div>
            <div class="text-center border-l border-ap-grey/20 pl-8 md:pl-14">
                <span id="minutes" class="block text-4xl md:text-5xl font-light tracking-tighter text-ap-black">00</span>
                <span class="ap-sub !mb-0 !text-[8px]">Menit</span>
            </div>
        </div>

        <div class="mt-8 mb-8 inline-flex items-center gap-2">
            <span class="relative flex h-2 w-2">
                <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                <span class="relative inline-flex rounded-full h-2 w-2 bg-green-500"></span>
            </span>
            <p class="text-[13px] font-medium text-ap-black tracking-tight">
                <span id="guestCount" class="font-bold">0</span> Jemaat telah konfirmasi
            </p>
        </div>

        <a href="main.html" class="ap-btn-primary shadow-xl shadow-ap-blue/15 text-[13px] tracking-wide px-12">
            Buka Undangan
        </a>
    </div>
</section>
<script>
    // Set target waktu: 1 April 2026
    const targetDate = new Date("April 1, 2026 09:00:00").getTime();

    const countdown = setInterval(function() {
        const now = new Date().getTime();
        const distance = targetDate - now;

        // Kalkulasi waktu
        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));

        // Update tampilan ke HTML
        document.getElementById("days").innerText = days.toString().padStart(2, '0');
        document.getElementById("hours").innerText = hours.toString().padStart(2, '0');
        document.getElementById("minutes").innerText = minutes.toString().padStart(2, '0');

        // Jika waktu habis
        if (distance < 0) {
            clearInterval(countdown);
            document.getElementById("days").innerText = "00";
            document.getElementById("hours").innerText = "00";
            document.getElementById("minutes").innerText = "00";
        }
    }, 1000);
</script>
<script>
    // PASTIKAN URL INI ADALAH URL DEPLOYMENT TERBARU (HASIL NEW DEPLOYMENT)
    const scriptURL = 'https://script.google.com/macros/s/AKfycbxMDERfnXSaeGZU7rggHcvoTEhQWdrdDNX3tDUOrkq-80PytfM4wHgHQbrPAOeRLIQn/exec';

    function updateGuestCount() {
        // Menambahkan parameter 'cache-buster' (t) agar browser selalu mengambil data terbaru, bukan dari memori lama
        const cacheBuster = new Date().getTime();
        const script = document.createElement('script');
        
        // Kita gunakan teknik JSONP untuk melewati blokir CORS browser
        script.src = `${scriptURL}?callback=handleResponse&t=${cacheBuster}`;
        
        // Menangani jika script gagal dimuat (misal URL salah atau server down)
        script.onerror = function() {
            console.error("Gagal memuat data dari Google Script. Cek URL Deployment kamu.");
        };

        document.body.appendChild(script);
    }

    // Fungsi ini yang akan menerima data dari Google Apps Script
    function handleResponse(data) {
        const countElement = document.getElementById('guestCount');
        if (countElement && data && typeof data.count !== 'undefined') {
            countElement.innerText = data.count;
            console.log("Jumlah tamu berhasil diupdate secara LIVE:", data.count);
        } else {
            console.warn("Data diterima tapi formatnya tidak sesuai:", data);
        }
    }

    // Jalankan fungsi saat halaman selesai dimuat
    window.addEventListener('load', updateGuestCount);
</script>


</body>
</html>