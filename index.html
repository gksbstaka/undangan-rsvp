<!DOCTYPE html>
<html lang="id">
<head>
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GKSBS Event â€” Digital Invitation</title>
    <meta name="title" content="Undangan Rapat GKSBS Tanjungkarang">
    <meta name="description" content="Melayani dengan Kasih dan Kesetiaan dalam satu persekutuan. Mohon kehadiran Bapak/Ibu/Saudara/i.">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://gksbstaka.github.io/undangan-rsvp/">
    <meta property="og:title" content="Undangan Rapat GKSBS Tanjungkarang">
    <meta property="og:description" content="Melayani dengan Kasih dan Kesetiaan dalam satu persekutuan.">
    <meta property="og:image" content="https://gksbstaka.github.io/undangan-rsvp/assets/img/thumbnail.png">

    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://gksbstaka.github.io/undangan-rsvp/">
    <meta property="twitter:title" content="Undangan Rapat GKSBS Tanjungkarang">
    <meta property="twitter:description" content="Melayani dengan Kasih dan Kesetiaan dalam satu persekutuan.">
    <meta property="twitter:image" content="https://gksbstaka.github.io/undangan-rsvp/assets/img/thumbnail.jpg">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,600;1,600&display=swap" rel="stylesheet">

    <script>
    tailwind.config = {
        theme: {
            extend: {
                fontFamily: {
                    // Default utama ke Inter (Sans Serif)
                    // Serif hanya disiapkan sebagai class opsional
                    sans: ['Inter', 'system-ui', '-apple-system', 'sans-serif'],
                    serif: ['Playfair Display', 'serif'],
                },
                fontSize: {
                    // Apple-style typography scale
                    'ap-hero': ['4.5rem', { lineHeight: '1.05', letterSpacing: '-0.025em', fontWeight: '700' }],
                    'ap-title': ['2.5rem', { lineHeight: '1.2', letterSpacing: '-0.02em', fontWeight: '600' }],
                    'ap-body': ['1.0625rem', { lineHeight: '1.5', letterSpacing: '-0.01em' }],
                    'ap-caption': ['0.75rem', { lineHeight: '1.4', letterSpacing: '0.05em', fontWeight: '600' }],
                }
            }
        }
    }
</script>

<style>
    /* Reset & Master Typography */
    body { 
        @apply font-sans antialiased bg-ap-bg text-ap-black; 
    }

    /* Override semua heading ke Sans Serif secara default */
    h1, h2, h3, h4, h5, h6 { 
        @apply font-sans tracking-tight; 
    }

    /* Utility untuk panggil Serif secara kondisional (Manual) */
    .font-conditional-serif { 
        @apply font-serif italic; 
    }

    /* Sub-header style */
    .ap-sub { 
        @apply text-ap-caption uppercase tracking-[0.3em] text-ap-grey block mb-4; 
    }
</style>
    <style>
        /* Global Smoothing */
        body {
            background-color: #ffffff;
            color: #1D1D1F;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Master UI Components */
        .ap-card {
            background: #f5f5f7;
            border: 1px solid rgba(210, 210, 215, 0.4);
            border-radius: 32px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.03);
        }

        .ap-btn-primary {
            background-color: #0071E3;
            color: #FFFFFF;
            border-radius: 9999px;
            padding: 12px 28px;
            font-weight: 500;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .ap-btn-primary:hover {
            background-color: #0077ED;
            transform: scale(1.02);
        }
        .ap-btn-primary:active {
            transform: scale(0.98);
        }

        /* Input Style: Minimalist Apple */
        .ap-input {
            width: 100%;
            background-color: #F5F5F7;
            border: 1px solid transparent;
            border-radius: 12px;
            padding: 14px 16px;
            transition: all 0.2s ease;
            outline: none;
        }
        .ap-input:focus {
            background-color: #FFFFFF;
            border-color: #0071E3;
            box-shadow: 0 0 0 4px rgba(0, 113, 227, 0.1);
        }

        /* Micro-animations */
        @keyframes reveal {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .reveal { animation: reveal 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; }
    </style>
</head>
<body class="bg-[#ffffff] font-sans text-[#4A4A4A]">

  <section class="relative min-h-screen flex flex-col items-center justify-center overflow-hidden bg-black">
    
    <style>
        :root {
            --overlay-start: rgba(0, 29, 61, 0.75); 
            --overlay-end: rgba(0, 8, 20, 0.95);
        }
    </style>

    <div class="absolute inset-0 z-0">
        <video autoplay muted loop playsinline class="w-full h-full object-cover grayscale opacity-60">
            <source src="assets/video/herovid.mp4" type="video/mp4">
        </video>
        <div class="absolute inset-0 z-10" 
             style="background: linear-gradient(to bottom, var(--overlay-start), var(--overlay-end));">
        </div>
    </div>

    <div class="relative z-20 flex flex-col items-center text-center p-6 reveal">
        
        <div class="mb-10 flex flex-col items-center">
        <img src="assets/img/logo.svg" class="w-28 md:w-32 mx-auto mb-6 brightness-0 invert opacity-90" alt="Logo">
    
        <span class="ap-sub !text-white !mb-1 font-medium tracking-[0.3em] uppercase">
        GKSBS Tanjungkarang
        </span>
    
        <span class="text-white/60 font-medium italic !text-[14px] tracking-wide">
        "Gereja yang Menjadi Berkat bagi Masyarakat"
        </span>
    </div>
        
        <div class="mb-10">
            <h1 class="text-ap-title text-white !text-[45px]">
                Undangan <span class="font-sans font-semibold text-white/100">Rapat</span>
            </h1>
            <p class="mt-4 text-ap-body max-w-sm mx-auto font-medium text-white/50">
                01 April 2026, 09:00 WIB<br>
            </p>
        </div>

        <div class="w-full max-w-2xl mx-auto flex flex-col items-center">
            <div class="w-full flex items-center justify-center gap-6 md:gap-10 border-y border-white/10 py-8 backdrop-blur-[2px]">
                <div class="text-center text-white">
                    <span id="days" class="block text-4xl md:text-5xl font-light tracking-tighter">00</span>
                    <span class="text-ap-body !text-white/60 font-medium uppercase tracking-widest !text-[10px]">Hari</span>
                </div>
                <div class="text-center border-l border-white/10 pl-6 md:pl-10 text-white">
                    <span id="hours" class="block text-4xl md:text-5xl font-light tracking-tighter">00</span>
                    <span class="text-ap-body !text-white/60 font-medium uppercase tracking-widest !text-[10px]">Jam</span>
                </div>
                <div class="text-center border-l border-white/10 pl-6 md:pl-10 text-white">
                    <span id="minutes" class="block text-4xl md:text-5xl font-light tracking-tighter">00</span>
                    <span class="text-ap-body !text-white/60 font-medium uppercase tracking-widest !text-[10px]">Menit</span>
                </div>
                <div class="text-center border-l border-white/10 pl-6 md:pl-10 text-white">
                    <span id="seconds" class="block text-4xl md:text-5xl font-light tracking-tighter text-gksbs-gold">00</span>
                    <span class="text-ap-body !text-white/60 font-medium uppercase tracking-widest !text-[10px]">Detik</span>
                </div>
            </div>

            <div class="mt-8 mb-8 flex items-center gap-2.5">
                <span class="relative flex h-2 w-2">
                    <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                    <span class="relative inline-flex rounded-full h-2 w-2 bg-green-500"></span>
                </span>
                <p class="text-[12px] font-medium tracking-[0.1em] text-white/80 uppercase">
                    <span id="guestCount" class="font-bold">7</span> Jemaat Terkonfirmasi Hadir
                </p>
            </div>

            <a href="main.html" 
               class="px-14 py-4 rounded-full border border-white/20 bg-white/10 backdrop-blur-md text-white text-ap-body font-semibold tracking-widest transition-all duration-500 hover:bg-ap-blue hover:border-ap-blue hover:shadow-[0_0_20px_rgba(0,113,227,0.4)] active:scale-95">
                BUKA UNDANGAN
            </a>
        </div>
    </div>
</section>
<script>
    // Set target waktu: 1 April 2026
    const targetDate = new Date("April 1, 2026 09:00:00").getTime();

    const countdown = setInterval(function() {
        const now = new Date().getTime();
        const distance = targetDate - now;

        // Kalkulasi waktu (Hari, Jam, Menit, Detik)
        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        // Update tampilan ke HTML dengan format 00 (padStart)
        document.getElementById("days").innerText = days.toString().padStart(2, '0');
        document.getElementById("hours").innerText = hours.toString().padStart(2, '0');
        document.getElementById("minutes").innerText = minutes.toString().padStart(2, '0');
        document.getElementById("seconds").innerText = seconds.toString().padStart(2, '0');

        // Jika waktu habis
        if (distance < 0) {
            clearInterval(countdown);
            const expiredVal = "00";
            document.getElementById("days").innerText = expiredVal;
            document.getElementById("hours").innerText = expiredVal;
            document.getElementById("minutes").innerText = expiredVal;
            document.getElementById("seconds").innerText = expiredVal;
        }
    }, 1000);
</script>
<script>
    // PASTIKAN URL INI ADALAH URL DEPLOYMENT TERBARU (HASIL NEW DEPLOYMENT)
    const scriptURL = 'https://script.google.com/macros/s/AKfycbxMDERfnXSaeGZU7rggHcvoTEhQWdrdDNX3tDUOrkq-80PytfM4wHgHQbrPAOeRLIQn/exec';

    function updateGuestCount() {
        // Menambahkan parameter 'cache-buster' (t) agar browser selalu mengambil data terbaru, bukan dari memori lama
        const cacheBuster = new Date().getTime();
        const script = document.createElement('script');
        
        // Kita gunakan teknik JSONP untuk melewati blokir CORS browser
        script.src = `${scriptURL}?callback=handleResponse&t=${cacheBuster}`;
        
        // Menangani jika script gagal dimuat (misal URL salah atau server down)
        script.onerror = function() {
            console.error("Gagal memuat data dari Google Script. Cek URL Deployment kamu.");
        };

        document.body.appendChild(script);
    }

    // Fungsi ini yang akan menerima data dari Google Apps Script
    function handleResponse(data) {
        const countElement = document.getElementById('guestCount');
        if (countElement && data && typeof data.count !== 'undefined') {
            countElement.innerText = data.count;
            console.log("Jumlah tamu berhasil diupdate secara LIVE:", data.count);
        } else {
            console.warn("Data diterima tapi formatnya tidak sesuai:", data);
        }
    }

    // Jalankan fungsi saat halaman selesai dimuat
    window.addEventListener('load', updateGuestCount);
</script>


</body>
</html>